# ===============================
# ğŸŒ Environment URLs & Variables
# ===============================

@localUrl = http://localhost:3000
@prodUrl = https://express-prisma-z4x3.onrender.com
@baseUrl = {{localUrl}}   # change to {{prodUrl}} for production
@token = 
@postId =
@tagId =

### ğŸ“ REGISTER NEW USER
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "name": "New User",
  "email": "newuser@example.com",
  "password": "password123"
}

### ğŸ”‘ LOGIN
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "admin@example.com",
  "password": "admin123"
}

# Save JWT token from login response
# @token = {{response.body.token}}

### ğŸ“„ GET ALL POSTS
GET {{baseUrl}}/posts
Authorization: Bearer {{token}}

### ğŸ· CREATE NEW TAG
POST {{baseUrl}}/tags
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "name": "Frontend"
}

# Save created tag ID
# @tagId = {{response.body.id}}

### âœï¸ CREATE NEW POST
POST {{baseUrl}}/posts
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Dynamic REST Client Test Post",
  "content": "This post content is long enough to pass validation.",
  "published": true,
  "tagIds": ["{{tagId}}"]
}

# Save created post ID
# @postId = {{response.body.id}}

### ğŸ’¬ CREATE NEW COMMENT
POST {{baseUrl}}/comments
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "content": "This is a dynamic test comment",
  "postId": "{{postId}}"
}

### ğŸ—‘ DELETE POST
DELETE {{baseUrl}}/posts/{{postId}}
Authorization: Bearer {{token}}

### ğŸ· GET ALL TAGS
GET {{baseUrl}}/tags
Authorization: Bearer {{token}}

### ğŸ’¬ GET ALL COMMENTS
GET {{baseUrl}}/comments
Authorization: Bearer {{token}}